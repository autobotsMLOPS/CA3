<!DOCTYPE html>
<html>

<head>
    <title>Calculator App</title>
</head>

<body>
    <h1>Welcome to the Calculator App</h1>
    <p>This app allows you to perform various calculations.</p>
    <form>
        <label for="operation">Select an operation:</label>
        <select id="operation" name="operation">
            <option value="add">Addition</option>
            <option value="sub">Subtraction</option>
            <option value="mul">Multiplication</option>
            <option value="div">Division</option>
            <option value="pow">Power</option>
        </select>
        <br><br>
        <label for="num1">Enter first number:</label>
        <input type="number" id="num1" name="num1">
        <br><br>
        <label for="num2">Enter second number:</label>
        <input type="number" id="num2" name="num2">
        <br><br>
        <button type="button" onclick="calculate()">Calculate</button>
    </form>
    <p id="result"></p>
    <script>
        function calculate() {
            const operation = document.getElementById("operation").value;
            const num1 = document.getElementById("num1").value;
            const num2 = document.getElementById("num2").value;
            // get host
            const host = window.location.host;
            // get http or https
            const protocol = window.location.protocol;
            let url = `${protocol}/calculate/${operation}/${num1}`;
            if (num2) {
                url += `/${num2}`;
            }
            console.log(url);
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('result').innerHTML = `Result: ${data.result}`;
                })
                .catch(error => console.error(error));
        }
    </script>
</body>

</html>